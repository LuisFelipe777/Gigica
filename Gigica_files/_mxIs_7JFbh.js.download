if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisStoriesHighlightsRoot.react",["PolarisLinkBuilder","PolarisStoryActions","PolarisisUserLoggedIn","PolarisuserSelectors","XIGStoriesComponent","promiseDone","react","react-redux-wwwig","shouldDisplayLoggedOutHighlights"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.props;var b=a.routeProps,e=b.show_qr_modal,f=b.user,g=a.routeParams.highlight_reel_id,k=d("react-redux-wwwig").useDispatch();b=j(!1);var l=b[0],m=b[1];a=d("PolarisisUserLoggedIn").isUserLoggedIn();b=(b=d("PolarisuserSelectors").useUser(f.id))==null?void 0:(b=b.counts)==null?void 0:b.followedBy;var n=c("shouldDisplayLoggedOutHighlights")(b);if(!a&&g!=null&&!n){b=d("PolarisLinkBuilder").buildHighlightStoryLink(g);k(d("PolarisStoryActions").initStoryAuth(b))}i(function(){l||c("promiseDone")(k(d("PolarisStoryActions").initStoryPage({owner:f,highlightReelId:g,isLoggedOutHighlightViewer:n})).then(function(){m(!0)}))},[k,g,l,n,f]);return h.jsx(c("XIGStoriesComponent"),{initializing:l===!1,isLoggedOutHighlightViewer:n,showQRModal:e,username:f.username,viewerIsLoggedIn:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);